{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í€´ì¦ˆ ê²°ê³¼</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
  <div class="container">
    <h1 id="score-display">ë‹¹ì‹ ì˜ ì ìˆ˜:</h1>
    <div id="wrong-list"></div>
    <img src="{% static 'img/result.png' %}" alt="ê²°ê³¼ ì´ë¯¸ì§€">
  </div>
  <script>
  const params = new URLSearchParams(window.location.search);
  const score = params.get('score');
  const wrongRaw = params.get('wrong');
  const wrongAnswers = wrongRaw ? JSON.parse(decodeURIComponent(wrongRaw)) : [];

  // ì ìˆ˜ ì¶œë ¥
  document.getElementById("score-display").innerText = `ë‹¹ì‹ ì˜ ì ìˆ˜: ${score} / 50`;

  // í‹€ë¦° ë¬¸ì œ ì¶œë ¥
  const listDiv = document.getElementById("wrong-list");
  if (wrongAnswers.length === 0) {
    listDiv.innerHTML = "<p>ëª¨ë“  ë¬¸ì œë¥¼ ë§í˜”ìŠµë‹ˆë‹¤! ğŸ‰</p>";
  } else {
    listDiv.innerHTML = "<h2>í‹€ë¦° ë¬¸ì œ ëª©ë¡</h2>";
    wrongAnswers.forEach(({index, input, keywords}) => {
      const item = document.createElement("div");
      item.innerHTML = `
        <p><strong>${index}ë²ˆ ë¬¸ì œ</strong></p>
        <ul>
          <li>ì…ë ¥í•œ ë‹µ: ${input}</li>
          <li>ì •ë‹µ í‚¤ì›Œë“œ: ${keywords.join(", ")}</li>
        </ul>
      `;
      listDiv.appendChild(item);
    });
  }
</script>
</body>
</html>
